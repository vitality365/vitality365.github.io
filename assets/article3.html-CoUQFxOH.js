import{_ as a,c as n,a as e,o as i}from"./app-CpbStbhd.js";const p={};function l(t,s){return i(),n("div",null,s[0]||(s[0]=[e(`<h1 id="ubuntu搭建lnmp-yii-mysql开发环境" tabindex="-1"><a class="header-anchor" href="#ubuntu搭建lnmp-yii-mysql开发环境"><span>ubuntu搭建lnmp yii mysql开发环境</span></a></h1><h2 id="安装php" tabindex="-1"><a class="header-anchor" href="#安装php"><span>安装php</span></a></h2><p>sudo apt install php7.2</p><h2 id="安装nginx" tabindex="-1"><a class="header-anchor" href="#安装nginx"><span>安装nginx</span></a></h2><p>sudo apt install nginx-full</p><h2 id="安装对应的php-fpm" tabindex="-1"><a class="header-anchor" href="#安装对应的php-fpm"><span>安装对应的php-fpm</span></a></h2><p>sudo apt install php7.2-fpm sudo apt install php7.2-mysql</p><h2 id="配置网站目录" tabindex="-1"><a class="header-anchor" href="#配置网站目录"><span>配置网站目录</span></a></h2><p>sudo vim /etc/nginx/sites-available/default</p><p>include /home/xxx/site.conf</p><p>/home/xxx/site.conf 内容如下</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">server {</span>
<span class="line">listen 80;</span>
<span class="line">#listen [::]:80;</span>
<span class="line"></span>
<span class="line">server_name long.dev.com;</span>
<span class="line"></span>
<span class="line">root /home/long/code;</span>
<span class="line">index index.php;</span>
<span class="line"></span>
<span class="line">location / {</span>
<span class="line">try_files $uri $uri/ /index.php$is_args$args;</span>
<span class="line">}</span>
<span class="line">location ~ \\.php$ {</span>
<span class="line">#try_files $uri $uri/ /index.php$is_args$args;</span>
<span class="line">fastcgi_pass unix:/run/php/php7.2-fpm.sock;</span>
<span class="line">include fastcgi_params;</span>
<span class="line">}</span>
<span class="line">error_log /home/long/code/nginx_error.log error;</span>
<span class="line">#access_log /home/long/code/nginx_access.log main;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 /etc/nginx/fastcgi_params 文件里增加下面内容</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span>
<span class="line">fastcgi_param PATH_INFO $fastcgi_script_name;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重启php-fpm" tabindex="-1"><a class="header-anchor" href="#重启php-fpm"><span>重启php fpm</span></a></h2><p>sudo service php7.2-fpm restart</p><p>sudo nginx -s reload</p><h2 id="安装mysql" tabindex="-1"><a class="header-anchor" href="#安装mysql"><span>安装mysql</span></a></h2><p>ubuntu上安装mysql非常简单只需要几条命令就可以完成。</p><ol><li>sudo apt-get install mysql-server</li><li>apt-get isntall mysql-client</li><li>sudo apt-get install libmysqlclient-dev 安装过程中会提示设置密码什么的，注意设置了不要忘了，安装完成之后可以使用如下命令来检查是否安装成功：</li></ol><p>sudo netstat -tap | grep mysql</p><p>通过上述命令检查之后，如果看到有mysql 的socket处于 listen 状态则表示安装成功。</p><p>登陆mysql数据库可以通过如下命令：</p><p>mysql -u root -p -u 表示选择登陆的用户名， -p 表示登陆的用户密码，上面命令输入之后会提示输入密码，此时输入密码就可以登录到mysql。</p><h2 id="安装samba" tabindex="-1"><a class="header-anchor" href="#安装samba"><span>安装samba</span></a></h2><p>sudo apt-get install samba sudo apt-get install smbclient 安装完成后执行 samba -V 如果可以看到版本号即为安装成功</p><p>需要添加samba账户：</p><p>sudo smbpasswd -a username</p><p>Ubuntu下samba配置和使用 第二步需要配置samba服务器，使用如下命令打开samba的配置文件</p><p>sudo vi /etc/samba/smb.conf</p><p>加入配置信息</p><p>[test]</p><pre><code>comment = Public Stuff

path = /home/test

writable = yes

valid users = test
</code></pre><p>这其中比较重要的参数为path和valid users, path指定了samba服务器的根目录，可以任意指定合法路径； valid users表示可以访问samba服务器的合法用户；用户在配置时注意需要将路径改为自己需要的路径，切勿全盘照抄</p><p>Ubuntu下samba配置和使用 由于在上文中配置的samba服务器根文件路径在我的Ubuntu上还不存在，所以我需要在对应路径下创建文件夹，并修改其权限 mkdir share chmod 777 share</p><p>Ubuntu下samba配置和使用 接下来需要为samba服务器添加用户了，由于我的配置中使用的是名为&quot;zhang&quot;的用户(该用户其实就是我的登录用户)，所以我需要通过如下命令来为samba添加此用户并设置密码 sudo smbpasswd -a zhang</p><p>Ubuntu下samba配置和使用 配置完成后需要重启samba服务器，使用如下命令重启samba服务器</p><p>sudo /etc/init.d/samba restart</p><p>Ubuntu下samba配置和使用 接下来就可以在windows上访问samba服务器了，通过如下的方式访问</p><p>\\+ ip</p><p>在linux中可以通过命令 ifconfig查看ip地址</p><p>输入地址后，我们应该就可以看到我们之前创建的share文件夹了</p><p>安装ssh sudo apt install openssh-server</p><p>安装yii sudo apt install composer composer create-project --prefer-dist yiisoft/yii2-app-basic basic</p>`,44)]))}const r=a(p,[["render",l],["__file","article3.html.vue"]]),c=JSON.parse('{"path":"/posts/article3.html","title":"ubuntu搭建lnmp yii mysql开发环境","lang":"en-US","frontmatter":{"date":"2020-03-26T00:00:00.000Z","category":["技术分享"],"tag":["linux","yii","mysql","php"]},"headers":[{"level":2,"title":"安装php","slug":"安装php","link":"#安装php","children":[]},{"level":2,"title":"安装nginx","slug":"安装nginx","link":"#安装nginx","children":[]},{"level":2,"title":"安装对应的php-fpm","slug":"安装对应的php-fpm","link":"#安装对应的php-fpm","children":[]},{"level":2,"title":"配置网站目录","slug":"配置网站目录","link":"#配置网站目录","children":[]},{"level":2,"title":"重启php fpm","slug":"重启php-fpm","link":"#重启php-fpm","children":[]},{"level":2,"title":"安装mysql","slug":"安装mysql","link":"#安装mysql","children":[]},{"level":2,"title":"安装samba","slug":"安装samba","link":"#安装samba","children":[]}],"git":{"updatedTime":1728634562000,"contributors":[{"name":"long","email":"long275@126.com","commits":1}]},"filePathRelative":"posts/article3.md","excerpt":"\\n<h2>安装php</h2>\\n<p>sudo apt install php7.2</p>\\n<h2>安装nginx</h2>\\n<p>sudo apt install nginx-full</p>\\n<h2>安装对应的php-fpm</h2>\\n<p>sudo apt install php7.2-fpm\\nsudo apt install php7.2-mysql</p>\\n<h2>配置网站目录</h2>\\n<p>sudo vim /etc/nginx/sites-available/default</p>\\n<p>include /home/xxx/site.conf</p>\\n<p>/home/xxx/site.conf 内容如下</p>"}');export{r as comp,c as data};
