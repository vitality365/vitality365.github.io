import{_ as t,c as n,a,o as s}from"./app-D95YKyTd.js";const r={};function l(p,e){return s(),n("div",null,e[0]||(e[0]=[a(`<h1 id="let-s-encrypt是否比主流付费证书不安全。" tabindex="-1"><a class="header-anchor" href="#let-s-encrypt是否比主流付费证书不安全。"><span>Let&#39;s Encrypt是否比主流付费证书不安全。</span></a></h1><h2 id="首先ssl证书的主要目的-是为了加密数据、防篡改、认证网站域名的真实性。" tabindex="-1"><a class="header-anchor" href="#首先ssl证书的主要目的-是为了加密数据、防篡改、认证网站域名的真实性。"><span>首先SSL证书的主要目的，是为了加密数据、防篡改、认证网站域名的真实性。</span></a></h2><p>证书公司签发需要申请者有域名的控制权。证书签发后会给两个文件，公钥和私钥文件。之后这两个文件是我们自己部署到我们自己的服务器上的，在HTTP服务器配置好（例如Nginx）。之后每次请求我们的网站，由我们服务器返回这个公钥证书（内容就是字符串）。访问我们网站时，根本不会再访问国外的证书公司，证书是从我们服务器给客户的。懂点HTTPS通信流程就知道，网络延迟的问题跟证书签发公司没有一毛钱关系。</p><h2 id="国外ca的证书就不安全" tabindex="-1"><a class="header-anchor" href="#国外ca的证书就不安全"><span>国外CA的证书就不安全？</span></a></h2><p>目前最大的两家付费证书是DigiCert 和 GlobalSign，全是国外的，阿里、腾讯就用的这两家的SSL证书。包括推销我证书的这家国内公司的根证书都是国外的，说国外证书就不安全，那他们的也不安全。</p><p>Let&#39;s Encrypt的根证书是 ISRG Root X1，默认也是各大浏览器、操作系统认可的证书。</p><h2 id="加密算法" tabindex="-1"><a class="header-anchor" href="#加密算法"><span>加密算法</span></a></h2><p>Let&#39;s Encrypt和上面两个主流的证书都是 PKCS #1，带有 RSA 加密的 SHA-256。安全性不比他们差。</p><p>另外Let&#39;s Encrypt作为一家非盈利的组织，主要目的就是为了推广普及SSL证书，他的核心赞助商是谷歌览器、火狐浏览器、亚马逊、思科、EFF、IBM、RedHat Linux，Githut，Nginx等。也就是说各大主流浏览器都认可的，并且支持的。</p><h2 id="因此-我觉得在安全可靠性上let-s-encrypt不比付费的证书差。" tabindex="-1"><a class="header-anchor" href="#因此-我觉得在安全可靠性上let-s-encrypt不比付费的证书差。"><span>因此，我觉得在安全可靠性上Let&#39;s Encrypt不比付费的证书差。</span></a></h2><p>差别就是有效期只有3个月（付费的1年有效期），续签麻烦点（单域名可以自动续，泛域名还需要更新dns解析），客服差点。另外他不支持OV证书的签发。只支持DV证书。</p><p>PS：泛域名不支持自动更新证书，需要手动再次执行命令跟新申请同样流程，并且在DNS解析后台再配置一下，自己服务器重新替换文件，加载一下新证书。</p><h2 id="泛域名命令" tabindex="-1"><a class="header-anchor" href="#泛域名命令"><span>泛域名命令</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo certbot certonly --manual --preferred-challenges=dns -d &quot;*.yourdomain&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>过程中会要求在dns里配置一项txt记录，验证dns配置是否成功的命令：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">nslookup -type=TXT yourdomain.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><a href="https://xn--letsencrypt-ud3f.org/zh-cn/" target="_blank" rel="noopener noreferrer">Let&#39;s Encrypt 官网</a></p><p><a href="https://www.runoob.com/w3cnote/https-ssl-intro.html" target="_blank" rel="noopener noreferrer">HTTPS 与 SSL 证书概要</a></p><p>最近研究发现SSL证书有个吊销问题，浏览器会访问服务器确认证书的状态，有两种方式CRL（通过下载，吊销证书列表文件，比对）和OCSP（通过 线上访问CA相关服务器，返回证书吊销状态），也就是说，请求的时候确实后可能访问CA的相关服务器。有一种解决方案是OCSP Stapling，就是我们自己的服务器，缓存OCSP的返回结果，然后返回SSL证书的可用状态。</p><p><a href="https://xn--www-4m0a.secpulse.com/archives/113075.html" target="_blank" rel="noopener noreferrer">你不在意的HTTPS证书吊销机制 - SecPulse.COM | 安全脉搏</a></p><p><a href="https://xn--developer-f69d.aliyun.com/article/764381" target="_blank" rel="noopener noreferrer">Nginx 实现OCSP Stapling-阿里云开发者社区</a></p>`,21)]))}const c=t(r,[["render",l],["__file","​letsencrypt-ssl.html.vue"]]),d=JSON.parse(`{"path":"/posts/%E2%80%8Bletsencrypt-ssl.html","title":"Let's Encrypt是否比主流付费证书不安全。","lang":"en-US","frontmatter":{"date":"2024-8-10","category":["技术分享"],"tag":["ssl"]},"headers":[{"level":2,"title":"首先SSL证书的主要目的，是为了加密数据、防篡改、认证网站域名的真实性。","slug":"首先ssl证书的主要目的-是为了加密数据、防篡改、认证网站域名的真实性。","link":"#首先ssl证书的主要目的-是为了加密数据、防篡改、认证网站域名的真实性。","children":[]},{"level":2,"title":"国外CA的证书就不安全？","slug":"国外ca的证书就不安全","link":"#国外ca的证书就不安全","children":[]},{"level":2,"title":"加密算法","slug":"加密算法","link":"#加密算法","children":[]},{"level":2,"title":"因此，我觉得在安全可靠性上Let's Encrypt不比付费的证书差。","slug":"因此-我觉得在安全可靠性上let-s-encrypt不比付费的证书差。","link":"#因此-我觉得在安全可靠性上let-s-encrypt不比付费的证书差。","children":[]},{"level":2,"title":"泛域名命令","slug":"泛域名命令","link":"#泛域名命令","children":[]}],"git":{"updatedTime":1728706338000,"contributors":[{"name":"test","email":"long275@126.com","commits":1}]},"filePathRelative":"posts/​letsencrypt-ssl.md","excerpt":"\\n<h2>首先SSL证书的主要目的，是为了加密数据、防篡改、认证网站域名的真实性。</h2>\\n<p>证书公司签发需要申请者有域名的控制权。证书签发后会给两个文件，公钥和私钥文件。之后这两个文件是我们自己部署到我们自己的服务器上的，在HTTP服务器配置好（例如Nginx）。之后每次请求我们的网站，由我们服务器返回这个公钥证书（内容就是字符串）。访问我们网站时，根本不会再访问国外的证书公司，证书是从我们服务器给客户的。懂点HTTPS通信流程就知道，网络延迟的问题跟证书签发公司没有一毛钱关系。</p>\\n<h2>国外CA的证书就不安全？</h2>\\n<p>目前最大的两家付费证书是DigiCert 和 GlobalSign，全是国外的，阿里、腾讯就用的这两家的SSL证书。包括推销我证书的这家国内公司的根证书都是国外的，说国外证书就不安全，那他们的也不安全。</p>"}`);export{c as comp,d as data};
