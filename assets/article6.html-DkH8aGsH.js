import{_ as e,c as s,a as o,o as a}from"./app-CpbStbhd.js";const p={};function r(i,t){return a(),s("div",null,t[0]||(t[0]=[o('<h1 id="yii发送邮件" tabindex="-1"><a class="header-anchor" href="#yii发送邮件"><span>yii发送邮件</span></a></h1><p>邮件发送需要配置</p><p>&#39;mailer&#39; =&gt; [ &#39;class&#39; =&gt; &#39;yii\\swiftmailer\\Mailer&#39;, &#39;useFileTransport&#39; =&gt; false, &#39;transport&#39; =&gt; [ &#39;class&#39; =&gt; &#39;Swift_SmtpTransport&#39;, &#39;host&#39; =&gt; &#39;smtp.163.com&#39;, &#39;username&#39; =&gt; &#39;XXXX@163.com&#39;,//发送者邮箱地址 &#39;password&#39; =&gt; &#39;XXXXXXXX&#39;, //SMTP密钥 &#39;port&#39; =&gt; &#39;587&#39;, &#39;encryption&#39; =&gt; &#39;ssl&#39;,//不要用tls，用tls在服务器上发不出邮件 ], ],</p><p>调用方法：</p><p>Yii::$app-&gt;mailer-&gt;compose(&#39;模板名&#39;) -&gt;setFrom(&#39;from@163.com&#39;) -&gt;setTo(&#39;from@163.com&#39;) -&gt;setSubject(&#39;标题&#39;) -&gt;setTextBody(&#39;内容&#39;) -&gt;send();</p><p>需要相应的邮箱开启SMTP服务。</p><p>点击 设置 - POP3/SMTP/IMAP，开启 IMAP/SMTP服务</p><p>还有一个非常奇怪的问题。本地测试一直好使，放到服务器上就一直提示连接不上。</p><p>Swift_TransportException: Connection could not be established with host smtp.163.com [Connection timed out</p><p>就是加密类型的问题。要用ssl格式，端口是587</p>',10)]))}const l=e(p,[["render",r],["__file","article6.html.vue"]]),c=JSON.parse(`{"path":"/posts/article6.html","title":"yii发送邮件","lang":"en-US","frontmatter":{"date":"2022-01-06T00:00:00.000Z","category":["技术分享"],"tag":["yii","php"]},"headers":[],"git":{"updatedTime":1728634562000,"contributors":[{"name":"long","email":"long275@126.com","commits":1}]},"filePathRelative":"posts/article6.md","excerpt":"\\n<p>邮件发送需要配置</p>\\n<p>'mailer' =&gt; [\\n'class' =&gt; 'yii\\\\swiftmailer\\\\Mailer',\\n'useFileTransport' =&gt; false,\\n'transport' =&gt; [\\n'class' =&gt; 'Swift_SmtpTransport',\\n'host' =&gt; 'smtp.163.com',\\n'username' =&gt; 'XXXX@163.com',//发送者邮箱地址\\n'password' =&gt; 'XXXXXXXX', //SMTP密钥\\n'port' =&gt; '587',\\n'encryption' =&gt; 'ssl',//不要用tls，用tls在服务器上发不出邮件\\n],\\n],</p>"}`);export{l as comp,c as data};
